<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition template="/WEB-INF/templates/template-menu.xhtml" 
    xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

<ui:define name="head">
	<title>Advocatus - Novo usuário</title>
</ui:define>


<ui:define name="body">
	<p:panel id="panel" header="Cadastro - Informe os dados abaixo" style="margin-bottom:10px;" >
		<h:form >
			<h:panelGrid columns="2">			
				<p:outputLabel value="Nome:" for="nome"/>
				<p:inputText id="nome" value="#{usuarioBean.usuario.pessoa.nome}"/>
			
				<p:outputLabel value="Usuário:" for="logon"/>
    			<h:panelGroup>				
    				<p:inputText id="logon" value="#{usuarioBean.usuario.logon}" title="O usuário deve ter entre 4 e 20 caracteres." style="text-transform:uppercase"/>
					<p:tooltip for="logon" showEvent="focus" hideEvent="blur" />     				
    			</h:panelGroup>
			
				<p:outputLabel value="E-mail:" for="email"/>
				<p:inputText id="email" value="#{usuarioBean.usuario.email}"/>
			
				<p:outputLabel value="Administrador ?" for="administrador"/>
				<p:selectBooleanCheckbox id="administrador" style="checked:true" value="#{usuarioBean.usuario.administrador}"/>
				
				<p:outputLabel value="Senha:" for="senha"/>				
					<h:panelGroup>
					<p:password id="senha" value="#{usuarioBean.usuario.senha}" title="A senha deve ter entre 6 e 20 caracteres." required="true" requiredMessage="Informe a senha" match="senha2" validatorMessage="As senhas digitadas não coincidem!"/>					
					<p:tooltip for="senha" showEvent="focus" hideEvent="blur" />
				</h:panelGroup>
				
				<h:outputLabel value="Confirme a senha:" for="senha2"/>
				<p:password id="senha2" value="#{usuarioBean.usuario.senha}" required="true" requiredMessage="Confirme a senha" />
			
			</h:panelGrid>
			<p:commandButton ajax="false" value="Gravar" action="#{usuarioBean.gravarNovoUsuario(usuarioBean.usuario)}"/>
			<h:messages/>			
		</h:form>		
	</p:panel>
</ui:define>

</ui:composition>