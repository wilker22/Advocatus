<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition template="/WEB-INF/templates/template-menu.xhtml" 
    xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

<ui:define name="head">
	<title>Advocatus - Meus dados</title>
</ui:define>

<ui:define name="body">

<h:form>
	<p:panel header="Dados Pessoais" widgetVar="panel">
		<ui:repeat var="user" value="#{usuarioBean.selecionarUsuarioPorLogon(sessionScope.usuario)}" >					
			<p:panelGrid columns="2">
				<p:outputLabel for="nome" value="Nome"/>
				<p:inputText id="nome" value="#{user.pessoa.nome}"/>
				<p:outputLabel for="dataCriacao" value="Data Criação"/>
				<p:outputLabel id="dataCriacao" value="#{user.dataCriacao.getTime()}" readonly="true">
					<f:convertDateTime pattern="dd/MM/yyyy HH:mm"/>
				</p:outputLabel>
				<p:outputLabel for="usuario" value="Usuário"/>
				<p:outputLabel id="usuario" value="#{user.logon}"/>
				<p:outputLabel for="senha" value="Senha"/>
				<h:inputSecret id="senha" value="#{user.senha}" />
				<p:outputLabel for="email" value="E-mail"/>
				<p:inputText id="email" value="#{user.email}"/>			
			</p:panelGrid>
			<h:commandButton value="Salvar" action="#{usuarioBean.salvar(usuarioBean.usuario)}"/>
		</ui:repeat>				
	</p:panel>	
	</h:form>		
	
	<p:panel header="Endereços">
	
	</p:panel>
</ui:define>

</ui:composition>
